import{j as e,u as h,a as u,r as p,f as v,b as y,c as N,d as C,e as q,s as F,g as w,h as S,i as j}from"./index-BM7Mvuk2.js";import{C as L}from"./Card-CxvQVHow.js";import{s as H,a as g,b as T,c as I,d as V,e as A,f as d,g as B,h as E,i as O}from"./selectors-D-AKfT0L.js";const D="_container_11i26_1",M={container:D},P="_container_10wy3_1",R="_cards_10wy3_9",f={container:P,cards:R},K="_btn_1j2p8_1",Y={btn:K},z=({onClick:t,name:a})=>e.jsx("button",{className:Y.btn,onClick:t,children:a}),G=()=>{const t=h(H),a=h(g),l=h(T),i=h(I),c=h(V),s=u();p.useEffect(()=>{s(v()),s(y({page:i,limit:l}))},[s,l,i]);const r=()=>{s(N())},m=h(A),b=x=>{if(m.some($=>$._id===x._id))return s(C(x));s(q(x))},k=t.length%a.length!==0;return e.jsxs("div",{className:f.container,children:[e.jsx("div",{className:f.cards,children:t.map(x=>e.jsx(L,{camper:x,handleToggleFavorite:()=>b(x)},x._id))}),c&&k&&e.jsx(z,{name:"Load more",onClick:r})]})},J="_container_in614_1",Q={container:J},U="_container_x8v81_1",W="_type_x8v81_9",X="_line_x8v81_12",Z="_label_x8v81_17",ee="_checked_x8v81_41",o={container:U,type:W,line:X,label:Z,checked:ee},se=()=>{const[t,a]=p.useState(null),l=u(),i=c=>{a(c),l(F(c))};return e.jsxs("div",{className:o.container,children:[e.jsx("p",{className:o.type,children:"Vehicle type"}),e.jsx("p",{className:o.line}),e.jsxs("form",{children:[e.jsxs("label",{className:`${o.label} ${t==="panelTruck"&&o.checked}`,children:[e.jsx("input",{type:"radio",onChange:()=>i("panelTruck"),checked:t==="panelTruck"}),e.jsx("svg",{className:o.vehicle,width:"40",height:"28",children:e.jsx("use",{xlinkHref:`${d}#icon-camper`})}),"Van"]}),e.jsxs("label",{className:`${o.label} ${t==="fullyIntegrated"&&o.checked}`,children:[e.jsx("input",{type:"radio",onChange:()=>i("fullyIntegrated"),checked:t==="fullyIntegrated"}),e.jsx("svg",{className:o.vehicle,width:"40",height:"28",children:e.jsx("use",{xlinkHref:`${d}#icon-camper-1`})}),"Fully",e.jsx("br",{})," Integrated"]}),e.jsxs("label",{className:`${o.label} ${t==="alcove"&&o.checked}`,children:[e.jsx("input",{type:"radio",onChange:()=>i("alcove"),checked:t==="alcove"}),e.jsx("svg",{className:o.vehicle,width:"40",height:"28",children:e.jsx("use",{xlinkHref:`${d}#icon-camper-2`})}),"Alcove"]})]})]})},te="_container_uf10i_1",ne="_filters_uf10i_9",ce="_equipment_uf10i_15",ie="_line_uf10i_21",ae="_filter_equipment_uf10i_26",le="_label_uf10i_38",oe="_checked_uf10i_50",n={container:te,filters:ne,equipment:ce,line:ie,filter_equipment:ae,label:le,checked:oe},re=()=>{const[t,a]=p.useState({}),l=u(),i=c=>{const{name:s,checked:r}=c.target;a(m=>({...m,[s]:r})),l(w(s))};return e.jsxs("div",{className:n.container,children:[e.jsx("p",{className:n.filters,children:"Filters"}),e.jsx("p",{className:n.equipment,children:"Vehicle equipment"}),e.jsx("p",{className:n.line}),e.jsxs("form",{children:[e.jsxs("label",{className:`${n.label} ${t.airConditioner&&n.checked}`,children:[e.jsx("input",{type:"checkbox",name:"airConditioner",onChange:i}),e.jsx("svg",{className:n.filter_equipment,width:"32",height:"32",children:e.jsx("use",{xlinkHref:`${d}#icon-ac`})}),"AC"]}),e.jsxs("label",{className:`${n.label} ${t.automatic&&n.checked}`,children:[e.jsx("input",{type:"checkbox",name:"automatic",onChange:i}),e.jsx("svg",{className:n.filter_equipment,width:"32",height:"32",children:e.jsx("use",{xlinkHref:`${d}#icon-automatic`})}),"Automatic"]}),e.jsxs("label",{className:`${n.label} ${t.kitchen&&n.checked}`,children:[e.jsx("input",{type:"checkbox",name:"kitchen",onChange:i}),e.jsx("svg",{className:n.filter_equipment,width:"32",height:"32",children:e.jsx("use",{xlinkHref:`${d}#icon-kitchen`})}),"Kitchen"]}),e.jsxs("label",{className:`${n.label} ${t.TV&&n.checked}`,children:[e.jsx("input",{type:"checkbox",name:"TV",onChange:i}),e.jsx("svg",{className:n.filter_equipment,width:"32",height:"32",children:e.jsx("use",{xlinkHref:`${d}#icon-tv`})}),"TV"]}),e.jsxs("label",{className:`${n.label} ${t.shower&&n.checked}`,children:[e.jsx("input",{type:"checkbox",name:"shower",onChange:i}),e.jsx("svg",{className:n.filter_equipment,width:"32",height:"32",children:e.jsx("use",{xlinkHref:`${d}#icon-shower`})}),"Shower"]})]})]})},he="_container_1l5qt_1",de="_location_input_1l5qt_10",me="_location_icon_1l5qt_20",_={container:he,location_input:de,location_icon:me},xe=()=>{const t=h(g),a=u(),l=t.map(c=>c.location).filter((c,s,r)=>r.indexOf(c)===s),i=c=>{const s=c.target.value;if(s.trim()!==""){if(!l.some(r=>r===s))return alert("Sorry, there are no campers in this location");a(S(s))}};return e.jsxs("div",{className:_.container,children:[e.jsx("p",{children:"Location"}),e.jsxs("div",{className:_.location_input,children:[e.jsx("svg",{className:_.location_icon,width:"20",height:"20",children:e.jsx("use",{xlinkHref:`${d}#icon-map-pin`})}),e.jsx("input",{type:"text",id:"location",name:"location",placeholder:"Choose your city",list:"locationSuggestions",onBlur:c=>i(c)}),e.jsx("datalist",{id:"locationSuggestions",children:l.map((c,s)=>e.jsx("option",{value:c},s))})]})]})},ue="_search_btn_qq7um_1",_e={search_btn:ue},pe=()=>{const t=u(),a=h(B),l=h(E),i=h(O),c=()=>{const s={},r=[];if(a&&(s.location=a),l&&(s.form=l),i.forEach(m=>{m==="automatic"?s.transmission=m:r.push(m)}),!l&&!a&&i.length===0)return alert("You need to select at least one filter");if(r.length>0)return t(j({filter:s,equipment:r}));t(j(s))};return e.jsx(e.Fragment,{children:e.jsx("button",{type:"button",className:_e.search_btn,onClick:c,children:"Search"})})},je=()=>e.jsxs("div",{className:Q.container,children:[e.jsx(xe,{}),e.jsx(re,{}),e.jsx(se,{}),e.jsx(pe,{})]}),ke=()=>e.jsxs("div",{className:M.container,children:[e.jsx(je,{}),e.jsx(G,{})]});export{ke as default};
