import{j as e,u as h,a as m,r as p,f as k,b as y,c as $,d as v,e as N,s as C,g as q,h as F,i as w}from"./index-y2PFc3lg.js";import{C as S}from"./Card-itmdnEWx.js";import{s as L,a as f,b as H,c as T,d as I,e as d,f as A,g as B,h as E}from"./selectors-9akU7COM.js";const O="_container_11i26_1",V={container:O},D="_container_10wy3_1",M="_cards_10wy3_9",j={container:D,cards:M},P="_btn_1j2p8_1",R={btn:P},K=({onClick:t,name:i})=>e.jsx("button",{className:R.btn,onClick:t,children:i}),Y=()=>{const t=h(L),i=h(f),l=h(H),a=h(T),s=m();p.useEffect(()=>{s(k()),s(y({page:a,limit:l}))},[s,l,a]);const n=()=>{s($())},r=h(I),_=x=>{if(r.some(b=>b._id===x._id))return s(v(x));s(N(x))},g=t.length%i.length!==0;return e.jsxs("div",{className:j.container,children:[e.jsx("div",{className:j.cards,children:t.map(x=>e.jsx(S,{camper:x,handleToggleFavorite:()=>_(x)},x._id))}),g&&e.jsx(K,{name:"Load more",onClick:n})]})},z="_container_in614_1",G={container:z},J="_container_x8v81_1",Q="_type_x8v81_9",U="_line_x8v81_12",W="_label_x8v81_17",X="_checked_x8v81_41",o={container:J,type:Q,line:U,label:W,checked:X},Z=()=>{const[t,i]=p.useState(null),l=m(),a=s=>{i(s),l(C(s))};return e.jsxs("div",{className:o.container,children:[e.jsx("p",{className:o.type,children:"Vehicle type"}),e.jsx("p",{className:o.line}),e.jsxs("form",{children:[e.jsxs("label",{className:`${o.label} ${t==="panelTruck"&&o.checked}`,children:[e.jsx("input",{type:"radio",onChange:()=>a("panelTruck"),checked:t==="panelTruck"}),e.jsx("svg",{className:o.vehicle,width:"40",height:"28",children:e.jsx("use",{xlinkHref:`${d}#icon-camper`})}),"Van"]}),e.jsxs("label",{className:`${o.label} ${t==="fullyIntegrated"&&o.checked}`,children:[e.jsx("input",{type:"radio",onChange:()=>a("fullyIntegrated"),checked:t==="fullyIntegrated"}),e.jsx("svg",{className:o.vehicle,width:"40",height:"28",children:e.jsx("use",{xlinkHref:`${d}#icon-camper-1`})}),"Fully",e.jsx("br",{})," Integrated"]}),e.jsxs("label",{className:`${o.label} ${t==="alcove"&&o.checked}`,children:[e.jsx("input",{type:"radio",onChange:()=>a("alcove"),checked:t==="alcove"}),e.jsx("svg",{className:o.vehicle,width:"40",height:"28",children:e.jsx("use",{xlinkHref:`${d}#icon-camper-2`})}),"Alcove"]})]})]})},ee="_container_hdsyx_1",se="_filters_hdsyx_9",te="_equipment_hdsyx_12",ne="_line_hdsyx_15",ce="_filter_equipment_hdsyx_20",ae="_label_hdsyx_32",ie="_checked_hdsyx_44",c={container:ee,filters:se,equipment:te,line:ne,filter_equipment:ce,label:ae,checked:ie},le=()=>{const[t,i]=p.useState({}),l=m(),a=s=>{const{name:n,checked:r}=s.target;i(_=>({..._,[n]:r})),l(q(n))};return e.jsxs("div",{className:c.container,children:[e.jsx("p",{className:c.filters,children:"Filters"}),e.jsx("p",{className:c.equipment,children:"Vehicle equipment"}),e.jsx("p",{className:c.line}),e.jsxs("form",{children:[e.jsxs("label",{className:`${c.label} ${t.ac&&c.checked}`,children:[e.jsx("input",{type:"checkbox",name:"ac",onChange:a}),e.jsx("svg",{className:c.filter_equipment,width:"32",height:"32",children:e.jsx("use",{xlinkHref:`${d}#icon-ac`})}),"AC"]}),e.jsxs("label",{className:`${c.label} ${t.automatic&&c.checked}`,children:[e.jsx("input",{type:"checkbox",name:"automatic",onChange:a}),e.jsx("svg",{className:c.filter_equipment,width:"32",height:"32",children:e.jsx("use",{xlinkHref:`${d}#icon-automatic`})}),"Automatic"]}),e.jsxs("label",{className:`${c.label} ${t.kitchen&&c.checked}`,children:[e.jsx("input",{type:"checkbox",name:"kitchen",onChange:a}),e.jsx("svg",{className:c.filter_equipment,width:"32",height:"32",children:e.jsx("use",{xlinkHref:`${d}#icon-kitchen`})}),"Kitchen"]}),e.jsxs("label",{className:`${c.label} ${t.tv&&c.checked}`,children:[e.jsx("input",{type:"checkbox",name:"tv",onChange:a}),e.jsx("svg",{className:c.filter_equipment,width:"32",height:"32",children:e.jsx("use",{xlinkHref:`${d}#icon-tv`})}),"TV"]}),e.jsxs("label",{className:`${c.label} ${t.shower&&c.checked}`,children:[e.jsx("input",{type:"checkbox",name:"shower",onChange:a}),e.jsx("svg",{className:c.filter_equipment,width:"32",height:"32",children:e.jsx("use",{xlinkHref:`${d}#icon-shower`})}),"Shower"]})]})]})},oe="_container_1l5qt_1",re="_location_input_1l5qt_10",he="_location_icon_1l5qt_20",u={container:oe,location_input:re,location_icon:he},de=()=>{const t=h(f),i=m(),l=t.map(s=>s.location).filter((s,n,r)=>r.indexOf(s)===n),a=s=>{const n=s.target.value;if(n.trim()!==""){if(!l.some(r=>r===n))return alert("Sorry, there are no campers in this location");i(F(n))}};return e.jsxs("div",{className:u.container,children:[e.jsx("p",{children:"Location"}),e.jsxs("div",{className:u.location_input,children:[e.jsx("svg",{className:u.location_icon,width:"20",height:"20",children:e.jsx("use",{xlinkHref:`${d}#icon-map-pin`})}),e.jsx("input",{type:"text",id:"location",name:"location",placeholder:"Choose your city",list:"locationSuggestions",onBlur:s=>a(s)}),e.jsx("datalist",{id:"locationSuggestions",children:l.map((s,n)=>e.jsx("option",{value:s},n))})]})]})},xe="_search_btn_qq7um_1",me={search_btn:xe},_e=()=>{const t=m(),i=h(A),l=h(B),a=h(E),s=()=>{const n={};if(i&&(n.location=i),l&&(n.form=l),a.forEach(r=>{r==="automatic"?n.transmission=r:n.details={...n.details,[r]:1}}),!l&&!i&&!a)return alert("You need to select at least one filter");t(w(n))};return e.jsx(e.Fragment,{children:e.jsx("button",{type:"button",className:me.search_btn,onClick:s,children:"Search"})})},ue=()=>e.jsxs("div",{className:G.container,children:[e.jsx(de,{}),e.jsx(le,{}),e.jsx(Z,{}),e.jsx(_e,{})]}),ge=()=>e.jsxs("div",{className:V.container,children:[e.jsx(ue,{}),e.jsx(Y,{})]});export{ge as default};
